@model Proyecto_Inge_Bases_Web.Models.Producto

@{
    ViewBag.Title = "Details";
}


<div class="text-muted" style="margin-top: 35px;">
</div>


<head>

    <style>

        .cuerpo {
            margin: auto;
            width: 60%;
            padding: 10px;
            background: rgb(255, 255, 255);
        }

        .titulo-suave {
            font-weight: normal;
        }
    </style>

</head>

<div class="cuerpo">

    <div class="text-secondary mt-4">
        <h2 style="font-weight:500; font-family:inherit; color:inherit">Detalles producto</h2>
    </div>

    <table class="mt-2">
        <tbody>
            <tr>
                <td>
                    <meta name="viewport" content="width=device-width, initial-scale=1">
                    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
                    <style>
                        .mySlides {
                            display: none;
                        }
                    </style>
                    @if (Model.ProductoImagen1 != null || Model.ProductoImagen2 != null || Model.ProductoImagen3 != null)
                    {
                        if (Model.ProductoImagen1 != null && (Model.ProductoImagen2 == null && Model.ProductoImagen3 == null))
                        {
                            <img id="idsrc1" src="data:image/png;base64,@Convert.ToBase64String(Model.ProductoImagen1)" alt="Imagen" style="width:600px; height:600px" />
                        }
                        else
                        {
                            <div class="w3-content w3-display-container">

                                @if (Model.ProductoImagen1 != null)
                                {
                                    <img id="idsrc1" src="data:image/png;base64,@Convert.ToBase64String(Model.ProductoImagen1)" alt="Imagen" style="width:600px; height:600px" class="mySlides" />
                                }
                                @if (Model.ProductoImagen2 != null)
                                {
                                    <img id="idsrc2" src="data:image/png;base64,@Convert.ToBase64String(Model.ProductoImagen2)" alt="Imagen" style="width:600px; height:600px" class="mySlides" />
                                }
                                @if (Model.ProductoImagen3 != null)
                                {
                                    <img id="idsrc3" src="data:image/png;base64,@Convert.ToBase64String(Model.ProductoImagen3)" alt="Imagen" style="width:600px; height:600px" class="mySlides" />
                                }
                                <button class="w3-button w3-display-left" onclick="plusDivs(-1)">&#10094;</button>
                                <button class="w3-button w3-display-right" onclick="plusDivs(1)">&#10095;</button>
                            </div>
                        }
                    }
                    else
                    {
                        <img src="https://i2.wp.com/www.bicifan.uy/wp-content/uploads/2016/09/producto-sin-imagen.png?fit=862%2C1104&ssl=1" style="width:600px; height:600px">
                    }
                    <script src="~/Scripts/SlideImg.js"></script>
                </td>
                <td>
                    <div class="mt-3 ml-2">
                        <table cellspacing="30">
                            <tr>
                                <td>
                                    <h3 class="titulo-suave">

                                        @Html.DisplayFor(model => model.Nombre) <!--Nombre del producto -->

                                    </h3>
                                </td>

                            </tr>

                            <tr>
                                <td>
                                    De: @Html.DisplayFor(model => model.Cliente.Correo) <!--De: Correo del cliente.  CAMBIAR A QUE SEA LE NOMBRE-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Publicado el @Html.DisplayFor(model => model.FechaPublicado) <!--Fecha de publicado-->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Categorias: @ViewBag.Categoria
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Condición :
                                    @Html.DisplayFor(model => model.Condicion) <!--Estado del producto-->
                                </td>
                            <tr />


                            <tr>
                                <td>
                                    <h4>
                                        <br />
                                        ₡
                                        @Html.DisplayFor(model => model.PrecioEstimado)
                                    </h4>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <h4>
                                        <br />
                                        @if (ViewBag.esCliente == true)
                                        {
                                            <a style="background-color: #DC3545;" class="btn btn-danger" href= "@Url.Action(actionName: "Realizar_Denuncia", controllerName: "Denuncias",  routeValues: new { correo = Model.Cliente.Correo, productoID = Model.ProductoID})"> Denunciar </a>
                                        }
                                        else
                                        {
                                            <a style="background-color: #DC3545;" class="btn btn-danger" href="@Url.Action(actionName: "IniciarSesion", controllerName: "Registrado")"> Denunciar </a>
                                        }

                                    </h4>
                                </td>
                            </tr>


                            <!--
    <tr>
        <td>
            <br>
            @Html.DisplayNameFor(model => model.Publicado)
            @Html.DisplayFor(model => model.Publicado)
        </td>
    </tr>-->
                        </table>
                    </div>
                   
                </td>
            </tr>
            <tr>

                <div>
                    <!-- Nuevo div, para que descripción tome casi todo el ancho de la pantalla-->

                    <table cellspacing="30">


                        <tr>
                            <td style="padding-left: 35px; padding-right: 35px;">
                                <h2> Descripción del producto</h2>
                                <br>@Html.DisplayFor(model => model.Descripcion)
                            </td>
                        </tr>

                    </table>

                    <table style="margin-top: 50px; margin-left: 55px">
                        <!-- Hago una tabla aparte, para manejar cada botón como una columna. -->

                        <tr>
                            <td>

                                <p>
                                    <a style="background-color:#00c0f3;" href='@Url.Action("Index", "ProductosDelDia")' class="btn btn-primary">Volver</a>
                                </p>

                            </td>



                        </tr>

                    </table>



                </div>

            </tr>







        </tbody>
    </table>


</div>
